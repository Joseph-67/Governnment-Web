                                      let allResp = await response.json()
                    console.log("--Roles", allResp.roles, allResp);
                    for (const role in allResp.roles) {
                       console.log(role);
                       
                    }
                    if (data.roles) {
                            let thead = document.querySelector('.guard-table thead tr')
                            // let tbody = document.querySelector('.guard-table tbody')
                            thead.innerHTML = `<th> ACTIONS </th>`
                            data.roles.forEach(role => {  thead.innerHTML+= `<th>${role.name}</th>`; })
                            // tbody.innerHTML = ""
                            let tBody = document.querySelector('.guard-table tbody');
                            console.log(tBody);
                            tBody.innerHTML = ``

                            data.permissions.forEach(async (permission) => { 
                                tBody.innerHTML += `
                                        <tr data-${permission.id}>
                                        <td>${permission.name}</td>
                                        </tr>`
                                let permissionTr = undefined;
                                data.roles.forEach(role => {
                                let url = "{{ route('admin.fetch.role-permission') }}"
                                let formData = new FormData();
                                formData.append('role_id', role.id)
                                formData.append('permission_id', permission.id)
                                    let response = fetch(url, {
                                        method: "POST",
                                        headers: {
                                            'X-CSRF-TOKEN': '{{ csrf_token() }}',
                                        },
                                        credentials: 'same-origin',
                                        body: formData
                                    }).then(async response => {
                                        let data = await response.json();
                                        console.log("--Resp:", data);
                                        permissionTr = document.querySelector(`.guard-table tbody tr[data-${permission.id}]`);
                                        console.log(permissionTr);
                                        permissionTr.innerHTML += `
                                        <td>
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" 
                                                type="checkbox" 
                                                role="switch" 
                                                ${(data.role_permission != null)? "checked":""} 
                                                onclick="updateRolePermission(this,${role.id}, ${permission.id})">
                                            </div>
                                        </td>
                                        `
                                        
                                    })
                                })

                            })
                    }